<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    <title>SRT 转 TXT 工具</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="icon" type="image/png" sizes="64x64" href="favicon.png">
</head>
<body>
    <div class="container">
        <header>
            <h1>SRT 转 TXT 工具</h1>
            <p class="description">
                将 SRT 字幕文件转换为纯文本格式，提取所有字幕内容。<br>
            </p>
        </header>

        <div class="main-container">
            <div class="input-section">
                <div class="input-card">
                    <h2>输入方式</h2>
                    <div class="input-tabs">
                        <button class="tab-btn active" id="fileTab">选择文件</button>
                        <button class="tab-btn" id="pasteTab">粘贴内容</button>
                    </div>
                    
                    <div class="tab-content active" id="fileContent">
                        <div class="file-upload-area" id="fileUploadArea">
                            <input type="file" id="fileInput" accept=".srt" style="display: none;">
                            <div class="upload-icon">📁</div>
                            <p class="upload-text">点击选择 SRT 文件或拖拽文件到此处</p>
                            <p class="upload-hint">支持 .srt 格式文件</p>
                            <span id="fileName" class="file-name"></span>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="pasteContent">
                        <textarea id="pasteInput" class="paste-input" placeholder="请在此处粘贴 SRT 文件内容..."></textarea>
                    </div>
                </div>
            </div>

            <div class="output-section">
                <div class="output-card">
                    <div class="output-header">
                        <h2>转换结果</h2>
                        <div class="output-info">
                            <span id="lineCount">0 行</span>
                            <span id="charCount">0 字符</span>
                        </div>
                    </div>
                    <div class="format-options">
                        <div class="format-group">
                            <label class="format-option">
                                <input type="radio" name="format" value="withTimestamp" id="withTimestamp" checked>
                                <span>带时间戳</span>
                            </label>
                            <label class="format-option">
                                <input type="radio" name="format" value="withoutTimestamp" id="withoutTimestamp">
                                <span>不带时间戳</span>
                            </label>
                        </div>
                        <div class="separator-options" id="separatorOptions" style="display: none;">
                            <label class="format-option">
                                <input type="radio" name="separator" value="newline" id="separatorNewline" checked>
                                <span>换行分隔</span>
                            </label>
                            <label class="format-option">
                                <input type="radio" name="separator" value="punctuation" id="separatorPunctuation">
                                <span>标点分隔</span>
                            </label>
                        </div>
                    </div>
                    <textarea id="outputText" class="output-text" readonly placeholder="转换后的文本将显示在这里..."></textarea>
                    <div class="output-buttons">
                        <button id="copyBtn" class="btn btn-primary" disabled>复制到剪贴板</button>
                        <button id="downloadBtn" class="btn btn-secondary" disabled>下载 TXT 文件</button>
                        <button id="clearBtn" class="btn btn-secondary">清空</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="explanation">
            <h2>使用说明</h2>
            <div class="explanation-content">
                <div class="explanation-item">
                    <h3>什么是 SRT 文件？</h3>
                    <p>SRT (SubRip Subtitle) 是一种常见的字幕文件格式，包含时间码和字幕文本。本工具可以提取其中的纯文本内容。</p>
                </div>
                <div class="explanation-item">
                    <h3>如何使用？</h3>
                    <p>1. 选择文件：点击"选择文件"标签，上传 SRT 文件或拖拽文件到上传区域<br>
                    2. 粘贴内容：点击"粘贴内容"标签，直接粘贴 SRT 文本<br>
                    3. 选择格式：选择"带时间戳"或"不带时间戳"格式<br>
                    4. 选择分割方式：不带时间戳时，可选择"换行分隔"或"标点分隔"<br>
                    5. 复制或下载：转换后可复制到剪贴板或下载为 TXT 文件</p>
                </div>
                <div class="explanation-item">
                    <h3>转换格式说明</h3>
                    <p><strong>带时间戳格式</strong>：保留时间码信息，格式为 [时间戳] 字幕文本，每段独立一行。<br>
                    <strong>不带时间戳 - 换行分隔</strong>：只保留文本内容，每段字幕独立一行。<br>
                    <strong>不带时间戳 - 标点分隔</strong>：只保留文本内容，使用中文逗号连接所有字幕，形成连续文本。</p>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/srt2txt.js"></script>
</body>
</html>
