<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    <link rel="icon" type="image/png" sizes="64x64" href="favicon.png">
    <title>文本搜索工具 - TextGrep</title>
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>
    <div id="background-wrapper"></div>
    <div class="page-container">
        <a href="../../index.html" class="back-btn">← 返回首页</a>
        <div class="header">
            <h1 data-shadow='文本搜索工具'>文本搜索工具</h1>
            <p class="subtitle">多格式文本文件的快速搜索与定位</p>
        </div>

        <div class="container">

        <!-- 步骤1: 上传/输入文本 -->
        <div class="section" id="step1">
            <h2>步骤 1: 上传或输入文本</h2>
            <div class="upload-area">
                <div class="file-upload">
                    <div class="file-upload-area" id="fileUploadArea">
                        <input type="file" id="fileInput" accept=".txt,.doc,.docx,.pdf" style="display: none;">
                        <div class="upload-icon">📁</div>
                        <p class="upload-text">点击选择文本文件，或拖拽文件到此处</p>
                        <p class="upload-hint">支持 .txt, .docx, .pdf 格式文件</p>
                        <span id="fileName" class="file-name"></span>
                    </div>
                </div>
                <div class="divider">和/或</div>
                <div class="text-input">
                    <textarea id="textInput" placeholder="直接在此粘贴文本内容...&#10;&#10;提示：可以同时选择文件和粘贴文本，两者将自动合并"></textarea>
                </div>
            </div>
            <button id="loadTextBtn" class="btn btn-primary">载入文本</button>
        </div>

        <!-- 步骤2: 设置分隔符 -->
        <div class="section" id="step2" style="display: none;">
            <h2>步骤 2: 设置分隔符</h2>
            <div class="delimiter-options">
                <label class="radio-option">
                    <input type="radio" name="delimiter" value="newline" checked>
                    <span>单个换行符</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="delimiter" value="emptyline">
                    <span>空行（双换行）</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="delimiter" value="line">
                    <span>横线分隔（---）</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="delimiter" value="custom">
                    <span>自定义：</span>
                    <input type="text" id="customDelimiter" placeholder="输入分隔符">
                </label>
            </div>
            <button id="parseTextBtn" class="btn btn-primary">解析数据</button>
            <div id="dataPreview" class="data-preview"></div>
        </div>

        <!-- 步骤3: 搜索 -->
        <div class="section" id="step3" style="display: none;">
            <h2>步骤 3: 搜索内容</h2>
            <div class="search-area">
                <textarea id="searchInput" placeholder="输入要搜索的内容，支持批量搜索：每行一个关键词...&#10;例如：&#10;关键词1&#10;关键词2&#10;关键词3"></textarea>
                <button id="searchBtn" class="btn btn-success">开始搜索</button>
            </div>
            <div id="searchResults" class="search-results"></div>
        </div>
    </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="./assets/js/script.js"></script>
</body>
</html> 