<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="64x64" href="favicon.png">
    <title>文本搜索工具 - TextGrep</title>
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>文本搜索工具</h1>
        </div>

        <!-- 步骤1: 上传/输入文本 -->
        <div class="section" id="step1">
            <h2>步骤 1: 上传或输入文本</h2>
            <div class="upload-area">
                <div class="file-upload">
                    <label for="fileInput" class="file-label">
                        <span class="upload-icon">📁</span>
                        选择文件 (TXT, Word, PDF)
                    </label>
                    <input type="file" id="fileInput" accept=".txt,.doc,.docx,.pdf" style="display: none;">
                    <div id="fileName" class="file-name"></div>
                </div>
                <div class="divider">或</div>
                <div class="text-input">
                    <textarea id="textInput" placeholder="直接在此粘贴文本内容..."></textarea>
                </div>
            </div>
            <button id="loadTextBtn" class="btn btn-primary">载入文本</button>
        </div>

        <!-- 步骤2: 设置分隔符 -->
        <div class="section" id="step2" style="display: none;">
            <h2>步骤 2: 设置分隔符</h2>
            <div class="delimiter-options">
                <label class="radio-option">
                    <input type="radio" name="delimiter" value="newline" checked>
                    <span>单个换行符</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="delimiter" value="emptyline">
                    <span>空行（双换行）</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="delimiter" value="line">
                    <span>横线分隔（---）</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="delimiter" value="custom">
                    <span>自定义：</span>
                    <input type="text" id="customDelimiter" placeholder="输入分隔符">
                </label>
            </div>
            <button id="parseTextBtn" class="btn btn-primary">解析数据</button>
            <div id="dataPreview" class="data-preview"></div>
        </div>

        <!-- 步骤3: 搜索 -->
        <div class="section" id="step3" style="display: none;">
            <h2>步骤 3: 搜索内容</h2>
            <div class="search-area">
                <textarea id="searchInput" placeholder="粘贴或输入要搜索的内容..."></textarea>
                <button id="searchBtn" class="btn btn-success">开始搜索</button>
            </div>
            <div id="searchResults" class="search-results"></div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="./assets/js/script.js"></script>
</body>
</html> 